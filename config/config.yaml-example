# Example config.yaml showing new web configuration options

server:
  port: ":8000"
  workers: 4
  read_timeout: 30s
  write_timeout: 30s

# New web configuration section with configurable file serving
web:
  # Directory containing web assets (HTML, CSS, JS, etc.)
  assets_dir: "/usr/lib/raven/web"
  
  # Static files directory (relative to assets_dir if not absolute)
  static_dir: "static"
  serve_static: true
  
  # Root file to serve at "/" (default: index.html)
  root: "index.html"
  
  # List of files to serve from assets_dir
  # Each file will be available at "/{filename}"
  files:
    - "index.html"      # Main application
    - "styles.css"      # Stylesheet
    - "app.js"          # JavaScript application
    - "favicon.ico"     # Browser favicon (ICO format)
    - "favicon.svg"     # SVG favicon
    - "manifest.json"   # PWA manifest
    - "robots.txt"      # Search engine instructions
    - "sitemap.xml"     # Search engine sitemap

database:
  type: "boltdb"
  path: "./data/raven.db"
  backup_interval: 6h
  cleanup_interval: 24h
  history_retention: 720h  # 30 days

prometheus:
  enabled: true
  metrics_path: "/metrics"

monitoring:
  default_interval: 60s
  max_retries: 3
  timeout: 30s
  batch_size: 10

logging:
  level: "info"
  format: "json"

# Example hosts configuration
hosts:
  - id: "web-01"
    name: "Web Server 1"
    display_name: "Primary Web Server"
    ipv4: "192.168.1.10"
    hostname: "web01.example.com"
    group: "web"
    enabled: true
    tags:
      environment: "production"
      role: "webserver"

  - id: "db-01"
    name: "Database Server"
    display_name: "Primary Database"
    ipv4: "192.168.1.20"
    hostname: "db01.example.com"
    group: "database"
    enabled: true
    tags:
      environment: "production"
      role: "database"

# Example checks configuration
checks:
  - id: "http-check"
    name: "HTTP Health Check"
    type: "http"
    hosts: ["web-01"]
    interval:
      ok: "60s"
      warning: "30s"
      critical: "15s"
    threshold: 3
    timeout: "10s"
    enabled: true
    options:
      url: "http://{{.Host.IPv4}}/health"
      method: "GET"
      expected_status: 200
      
  - id: "ping-check"
    name: "Ping Connectivity"
    type: "ping"
    hosts: ["web-01", "db-01"]
    interval:
      ok: "30s"
      warning: "15s"
      critical: "5s"
    threshold: 3
    timeout: "5s"
    enabled: true
    options:
      count: 3
